<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">

<head>
    <meta http-equiv="cache-control" content="no-cache" />
    <link rel="stylesheet" type="text/css" href="../css/mmelt-pe.css">
    <link rel="stylesheet" type="text/css" href="../css/main.css">
    <link rel="stylesheet" type="text/css" href="../css/slide.css">

    <script src="../js/jquery-3.0.0.min.js"></script>
    <script src="certify.js"></script>
    <script src="certification-test.js"></script>

	<style>


        
        .counterbox {
            /* forces children to same row */
            height: 98px;
            width: 100%;
            z-index: 1000000;
            top:150px;
            left:10px;
       
            /*
            padding-left: 10px;
            padding-right: 10px;
          
            */
        }

        #counterbox  input {
            font-size: 1.2em;
            background-color: transparent;
            text-align: center;
            border-width: 0;
            width: 100%;
            margin: 0 0 .1em 0;
            color: white;
			font-weight: bold;
			
        }


        
        .box {
            /* basics */
            float: left;
            background-color: rgb(2, 2, 2);
            color: #C4BE92;
            text-align: center;
            vertical-align:center
            /* rounded corners */
            -webkit-border-radius: 5px;
            border-radius: 8px;
            font-size: 12px;
            -moz-background-clip: padding;
            -webkit-background-clip: padding-box;
            background-clip: padding-box;
            padding: .4em .4em .4em;
            /*width: 8em;*/
            width: 80px;
            /*height: 60px;*/
            margin: 5px 5px 5px 10px;
            -webkit-box-shadow: 0px 0px 12px 0px #000;
            box-shadow: 0px 0px 12px 0px #000;
        }

        #counterbox button {

            align-items: flex-start;
            text-align: center;
            cursor: default;
            color: buttontext;
            background-color: buttonface;
            box-sizing: border-box;
            padding: 2px 2px 3px;
            border-width: 2px;
            border-style: outset;
            border-color: buttonface;
            border-image: initial;

        }

    </style>

    <script src="../js/main-2.js"></script>
    <script src="../js/pxl-fullslide.js"></script>



    <script>
        $(function() {
            //alert('here')

            init_cert_page();

        });

        function initMenu() {
            $('#menu ul').hide();
            $('#menu > li > a').on('click', function() {
                $('#menu ul').slideUp();
                $(this).next().slideDown();
            });
        }
        $(document).ready(initMenu);
    </script>

    <script>
        function modify_qty(val, divid, ifenter) {


            //var counterarray = update_counter_object('get'); 
            //var qty = counterarray[0]
            //var qty2 = counterarray[1]


            //counter1 = parseInt(qty, 10) + val;
            //counter2 = parseInt(qty2, 10) + val;





            var counter1 = document.getElementById(divid).value;
			counter1 = parseInt(counter1,10);
			
			if(val == 0) {
				counter1 = 0;
				


				}
			
			else if(ifenter) {
				counter1 = val;
				

				}
				
			else{
				counter1 = counter1 + val;
				}
				
			document.getElementById(divid).value = counter1;

        }// function modify 
        //click the button (+) on enter key 


        function changeCounter(e) {

            if (e.which == 101 || e.which == 69) {
                $("#up").click();
            }

            if (e.which == 114 || e.which == 82) {
                $("#up2").click();
            }


            if (e.which == 13) {
                //if values are manually manipulated.

                var qty = document.getElementById("qty").value;
                var qty2 = document.getElementById("qty2").value;



                modify_qty(qty, "qty", "yes");
                modify_qty(qty2, "qty2", "yes");




            }



        }; //change value of th ecounter.



        $(document).keypress(function(e) {

            changeCounter(e);
            //alert(e.which);


            /*

            if (e.which == 13) {
                //$("#up2").click();
                var qty = document.getElementById("qty").value;
                var qty2 = document.getElementById("qty2").value;

                modify_qty(qty, "qty");
                modify_qty(qty2, "qty2");

            }

            */




        });
    </script>


    <style>
        .helpModal {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 100;
            /* Sit on top */
            padding-top: 150px;
            /* Location of the box */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            /*overflow: none;  Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }
        /* Modal Content */
        
        .help-modal-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            margin-right: 50%;
            border: 1px solid #888;
            width: 40%;
            height: 60%;
            overflow: auto;
            max-width: 500px;
            font-family: sans-serif;
        }
        
        .mc-width {
            width: 50%;
            align: left;
        }
        /* The Close Button */
        
        .help-close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        
        .help-close:hover,
        .help-close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
        
        .modal2343 {
            display: none;
            /* Hidden by default */
            position: fixed;
            /* Stay in place */
            z-index: 101;
            /* Sit on top */
            padding-top: 5%;
            /* Location of the box */
            left: 0;
            top: 0;
            width: 100%;
            /* Full width */
            height: 100%;
            /* Full height */
            /*overflow: none;  Enable scroll if needed */
            background-color: rgb(0, 0, 0);
            /* Fallback color */
            background-color: rgba(0, 0, 0, 0.4);
            /* Black w/ opacity */
        }
        /* Modal Content */
        
        .modal-2343-content {
            background-color: #fefefe;
            margin: auto;
            padding: 20px;
            /*margin-right: 50%;*/
            border: 1px solid #888;
            width: 80%;
            height: 80%;
            overflow: auto;
            max-width: 800px;
            font-family: sans-serif;
        }
        
        .mc-width {
            width: 50%;
            align: left;
        }
        /* The Close Button */
        
        .modal2343-close {
            color: #aaaaaa;
            float: right;
            font-size: 28px;
            font-weight: bold;
        }
        
        .modal2343-close:hover,
        .modal2343-close:focus {
            color: #000;
            text-decoration: none;
            cursor: pointer;
        }
    </style>

</head>

<body>


    <div id="wrapper">


        <div id="aside" valign="top">


            <div id="header-pxl">

                <div id="header-a" style="height:46px; background-color: black; text-align:center; display:table;width:100%;margin:auto;">



                    <p id="page-title" style="color: white;vertical-align:middle;height:46px;display:table-cell;text-align:center;"><b>WELCOMM Final Assessment</b></p>



                </div>
                <!--- header a -->


                <div id="header-b" style="height:50px; background-color: #FFDBE7;">

                    <div style="margin-top:2px; display: inline-block; width:100%;">

                        <div id="wrap-footer-menu" style="margin-top: 5px; margin-left: 5px;">




                        </div>
                        <!--wrap footer menu. -->


                    </div>



                </div>
                <!--- header a -->



            </div>
            <!--header -->

            <!--header -->
            <div id="counterbox" style="display:none; background: tomato;">

                <div class="box" id="box">

                    <label for="qty"><abbr title="Quantity">Counter 1 (press "E")</abbr></label>
                    <input id="qty" value="0" />
                    <button id="down" onclick="modify_qty(-1, 'qty')"> &ndash; </button>
                    <button id="clear" onclick="modify_qty(0,'qty')"> C </button>
                    <button id="up" onclick="modify_qty(1, 'qty')"> + </button>

                </div>

                <div class="box" id="box2">

                    <label for="qty2"><abbr title="Quantity2">Counter 2 (press "R")</abbr></label>
                    <input id="qty2" value="0" />
                    
                    <button id="down2" onclick="modify_qty(-1, 'qty2')"> &ndash; </button>
                    <button id="clear2" onclick="modify_qty(0, 'qty2')">C</button>
                    <button id="up2" onclick="modify_qty(1, 'qty2')"> + </button>
                </div>


            </div>
            <!-- counter box -->

            <!-- counter box -->

            <div id="headerx" style="width:100%; background-color: azure;">

                <div style="margin-top:10px; margin-left: 15px; display: inline-block; margin-bottom:5px;">




                <span class="header_iconDiv">
				<div class="tooltip">
                    <img class="nav-img-pxl" border="0" alt="Help" src="../images/help_pxl.png" id = "help-btn">
					<span class="tooltiptext" style="width:50px">Help</span>
            </div>
            </span>

			<span id="counter" class="header_iconDiv">
				<div class="tooltip">
                    <img id="counter_img" class="nav-img-pxl" onclick="" border="0" src="../images/counter.png" alt="Display Tally Counters">
					<span class="tooltiptext" style="width:60px">Tally Counters</span>
					</div>


			</span> 

            <span id="previousPageButton" class="header_iconDiv" id="nav_prev">

                    <img class="nav-img-pxl" onclick="javascript:nav_to_pxl('prev')" border="0" alt="Previous slide" src="../images/left_pxl.png">

                </span>


            <span id="nextPageButton" class="header_iconDiv" id="nav_next">

                    <img class="nav-img-pxl" onclick="javascript:nav_to_pxl('next')" border="0" src="../images/right_pxl.png" alt="Next slide">

                </span>




        </div>


    </div>



    <!-- div headerx-->


    <!-- mysidenav -->


    <div id="content-left" style="margin-left: 10px; overflow: scroll;height:calc(100% - 150px)">




        <slide id="home_pxl"> </slide>




    </div>
    <!--div id content-left  -->



    </div>
    <!--div aside -->

    <div id="content-right">

        <!--dynamic content here -->


    </div>

    <script type="text/javascript">
    </script>
<!--
    <div class="box-top" id="box-top" style="margin-top:200px;display: none; ">

        <label for="qty"><abbr title="Quantity">Count</abbr></label>
        <input id="qty" value="0" />
        <button id="down" onclick="modify_qty(-1)">-1</button>
        <button id="up" onclick="modify_qty(1)">+1</button>
    </div>
-->

    </div>
    <!-- wrapper -->

</body>

<!-- The Modal -->
<div id="myModalContent" class="helpModal">

    <!-- Modal content -->
    <div class="help-modal-content">
        <span class="help-close">&times;</span>
        <div class="help-modal-div">
            <div id="help-content-home">
                <br>
                <b>Summary of virtual microscope controls</b>

                <ul>
                    <li><strong>Changing Magnification: </strong></li>
                    <ul>
                        <li>Keyboard: '+' and '-' keys</li>
                        <li>Mouse/Trackpad: scroll wheel or two-finger swipe up and down</li>
                        <li>On-screen objective button</li>
                    </ul>
                    <li><strong>Scanning: </strong></li>
                    <ul>
                        <li>Keyboard: arrow keys</li>
                        <li>Mouse/Trackpad: "drag and drop" or click thumbnail</li>
                    </ul>
                    <li><strong>Focusing: </strong></li>
                    <ul>
                        <li>Keyboard: 'Page Up' and 'Page Down' or 'A' and 'Q'</li>
                        <li>Mouse/Trackpad: Drag slider or click arrows</li>
                    </ul>

                </ul>

                <br><br>
                <b>Help with PathXL error message</b><br> If you receive error message 2343 when trying to view the Virtual Slides, <a onclick="javascript:helpWithError2343()" class="outTo2343help" href="#">click here for our help page on this error</a>.
                <br>
            </div>
        </div>
    </div>

</div>

<!-- The 2343 Modal -->
<div id="modal2343" class="modal2343">

    <!-- Modal content -->
    <div class="modal-2343-content">
        <span class="modal2343-close">&times;</span>
        <div class="modal2343-div">
            <div id="modal2343-home">
                <b>Error message 2343</b>
                <p> This error message appears when the Virtual Microscope software cannot locate the Virtual Slides that are on the course USB drive. One of the following two solutions will likely solve the problem for you. If you still get this error, or
                    other errors when trying to view Virtual Slides, please contact us using the contact information on the course Welcome page.</p>
                <ol>
                    <li>The USB drive must be in the computer when taking the course - it also has to be attached when opening the software. So if it isn't attached, please close the software, connect the USB drive, then re-open the software. The software
                        should then be able to find the slides automatically.</li>
                    <br>
                    <li>If step 1 doesn't work, you can manually set the drive letter that the images are on. From within the software, open the "Settings" menu, then "Server Settings". A warning will pop up, and you can click "OK." The window shown in the
                        first image below should appear. Under "Default Images Drive" enter the letter for the MMELC drive, followed by ":\". In the second image below, you can see that the MMELC drive is drive J, so we enter "J:\". Then click Apply,
                        and then close and reopen the software.</li>
                </ol>
                <img src="../images/systemSettingsimage.jpg" />
                <img src="../images/driveJimage.jpg" />
            </div>
        </div>
    </div>

</div>

<script>
    // Get the modal
    var helpModal = document.getElementById('myModalContent');

    // Get the button that opens the modal
    var btn = document.getElementById("help-btn");

    // Get the <span> element that closes the modal
    var span = document.getElementsByClassName("help-close")[0];

    // Get the <span> element that links out to the help unit
    var span2 = document.getElementsByClassName("outTo2343help")[0];

    // When the user clicks the button, open the modal
    btn.onclick = function() {
        helpModal.style.display = "block";
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        helpModal.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == helpModal) {
            helpModal.style.display = "none";
        }
    }

    // When the user clicks to help page, also close modal
    span2.onclick = function() {
        helpModal.style.display = "none";
        helpWithError2343();
    }
</script>
<script>
    // Get the modal 2343
    var modal2343var = document.getElementById('modal2343');

    // Get the button that opens the modal
    var btn = document.getElementById("helpWithError2343button");

    // Get the <span> element that closes the modal
    var span2343 = document.getElementsByClassName("modal2343-close")[0];

    // Get the <span> element that links out to the help unit
    //var span2 = document.getElementsByClassName("goto-help-unit")[0];

    // When the user clicks the button, open the modal
    function helpWithError2343() {
        modal2343var.style.display = "block";
        //alert('display!');
    }

    // When the user clicks on <span> (x), close the modal
    span2343.onclick = function() {
        modal2343var.style.display = "none";
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal2343) {
            modal2343var.style.display = "none";
        }
    }

    // When the user clicks to help page, also close modal
    //span2.onclick = function() {
    //	helpModal.style.display = "none";
    //}
</script>

<script>
    //counter 1. 

 //   window.onload = addListeners();
 //   window.onload = initial_qty_load();



    function addListeners() {
        document.getElementById('box').addEventListener('mousedown', mouseDown, false);
        window.addEventListener('mouseup', mouseUp, false);

    }

    function mouseUp() {
        window.removeEventListener('mousemove', divMove, true);
    }

    function mouseDown(e) {
        window.addEventListener('mousemove', divMove, true);
    }

//    function divMove(e) {
//        var div = document.getElementById('box');
//        div.style.position = 'absolute';
//        div.style.top = e.clientY + 'px';
//        div.style.left = e.clientX + 'px';
//    }

    //show hide counter  box 

    jQuery(function() {
        jQuery("#counter").click(function() {
            //initial_qty_load();
            //jQuery("#counterbox").toggle("slow");
            jQuery("#counterbox").toggle();
            jQuery("#counterbox").css("background-color", "tomato");
            jQuery("#counterbox").css("position", "fixed");
            jQuery("#counterbox").css("width", "100%");
            jQuery("#counterbox").css("top", "0px");
            //jQuery("#box").toggle("slow");
            //jQuery("#box2").toggle("slow");
        });
    });


    function waitForElementToDisplay(selector, time) {
        var ele = document.getElementById(selector)
        if (ele != null) {


            $(document.getElementById(selector).contentWindow.document).keydown(function(e) {

                //alert("KEY:" + e.which);
                changeCounter(e);


            });

 //           $(document.getElementById(selector)).contents().find("body").on('click', function(event)


//                {

                    //alert('test'); 
                    //jQuery("#counterbox").show();

//                });

            return;
        } 
		else {
            setTimeout(function() {
                waitForElementToDisplay(selector, time);
            }, time);
        }
    };

    waitForElementToDisplay('pathXLviewer', 1000);
</script>

</html>